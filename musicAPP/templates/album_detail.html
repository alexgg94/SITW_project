{% extends 'base.html' %}
{% block content %}
<button type='submit' onclick="window.location.href='/musicAPP/albums/{{ album.pk }}.json'">View in JSON</button>
<button type='submit' onclick="window.location.href='/musicAPP/albums/{{ album.pk }}.xml'">View in XML</button>
<br></br>
{% if user.is_authenticated and album.user == user or user.is_superuser %}
  <button type='submit' onclick="window.location.href='/musicAPP/albums/{{ album.pk }}/edit.html'">Edit</button>
  <button type='submit' onclick="window.location.href='/musicAPP/albums/{{ album.pk }}/delete.html'">Delete</button>
{% endif %}
{% if album %}
    <span vocab="http://schema.org/" typeof="MusicAlbum">
    <h1>
      <span property="name">
        {{ album.album_name }}
      </span>
    </h1>
    <p hidden><span property ="image"> {{ album.image }}</span></p>
    <p><img src = "{{album.image}}" height="300" width="300"/></p>
    <h2>Artist:
      <span property="creator">
        <a href='/musicAPP/artists/{{ album.artists.pk }}.html'>
          {{ album.artists.artist_name }}
        </a>
      </span>
    </h2>
    <h2>Release Date:
      <span property="dateCreated">
        {{ album.releaseDate }}
      </span>
    </h2>
    <h2>Spotify Link:
        <span property="url">
          <a title='{{ album.spotifyLink }} Link' href='{{ album.spotifyLink }}'>
            {{ album.spotifyLink }}
          </a>
        </span>
    </h2>
    <h2 style="color:#b30000">Added by: <span property="publisher">{{ album.user }}</span></h2>
    <p class="tracks_table">
      {% if tracks %}
        <tr>
              <h2>Albums' tracks</h2>
        </tr>
        <span rel="tracks" typeof="MusicRecording">
            {% for track in tracks %}
            <span property="name"><tr>
                <td>
                        <a title='{{ track.track_name }} Detail Page'href='/musicAPP/tracks/{{ track.pk }}.html'>
                            {{ track.track_name }}
                        </a>

                    </td><br>
                </tr>
                </span>
            {% endfor %}
        </span>
        {% else %}
          <tr><span proeprty="text"> This album doesn't have tracks</span></tr>
      {% endif %}

    </p>
    </span>
{% endif %}
{% endblock %}
